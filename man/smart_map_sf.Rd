% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{smart_map_sf}
\alias{smart_map_sf}
\title{Smart Map for Spatial Data with Row Indices}
\usage{
smart_map_sf(
  sf_data,
  fn,
  ...,
  complexity = "medium",
  threshold = NULL,
  workers = NULL,
  progress = NULL,
  .type = "list"
)
}
\arguments{
\item{sf_data}{An sf object.}

\item{fn}{Function that takes (index, sf_data) and returns a value.}

\item{...}{Additional arguments passed to `fn`.}

\item{complexity}{Character. Operation complexity level:
`"very_low"`, `"low"`, `"medium"` (default), `"high"`, `"very_high"`.
See [smart_map()] for details.}

\item{threshold}{Integer or NULL. Explicit threshold. If NULL, uses `complexity`.}

\item{workers}{Integer. Number of workers. Default auto-detected.}

\item{progress}{Logical. Show progress? Default TRUE for n > 50.}

\item{.type}{Character. Return type: "list", "dbl", "chr", "lgl", "int".}
}
\value{
A list or vector of results.
}
\description{
Convenience wrapper for spatial operations where the function operates on
row indices of an sf object. Automatically passes the sf object to each
worker in parallel mode.
}
\examples{
\dontrun{
# Calculate indicator for each parcel (medium complexity = spatial ops)
parcelles$indicator <- smart_map_sf(parcelles, function(i, data) {
  geom <- sf::st_geometry(data[i, ])
  # ... spatial calculation ...
  return(value)
}, complexity = "medium", .type = "dbl")

# WFS query per parcel (high complexity)
parcelles$zones <- smart_map_sf(parcelles, function(i, data) {
  query_wfs(data[i, ])
}, complexity = "high")
}
}
