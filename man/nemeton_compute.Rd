% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/indicators-core.R
\name{nemeton_compute}
\alias{nemeton_compute}
\title{Calculate Nemeton indicators for spatial units}
\usage{
nemeton_compute(
  units,
  layers,
  indicators = "all",
  preprocess = TRUE,
  parallel = FALSE,
  progress = TRUE,
  ...
)
}
\arguments{
\item{units}{A \code{nemeton_units} or \code{sf} object representing analysis units}

\item{layers}{A \code{nemeton_layers} object containing spatial data layers}

\item{indicators}{Character vector of indicator names to calculate, or "all" for all available.
Available indicators: "carbon", "biodiversity", "water", "fragmentation", "accessibility"}

\item{preprocess}{Logical. Automatically harmonize CRS and crop layers? Default TRUE.}

\item{parallel}{Logical. Use parallel computation? (Not implemented in MVP, will error if TRUE)}

\item{progress}{Logical. Show progress bar? Default TRUE.}

\item{...}{Additional arguments passed to indicator functions}
}
\value{
An \code{sf} object with original columns plus one column per calculated indicator
}
\description{
Main function to compute biophysical indicators for forest units from spatial layers.
Orchestrates indicator calculation with automatic preprocessing and error handling.
}
\details{
The function performs the following steps:
\enumerate{
  \item Validates inputs (units and layers)
  \item If \code{preprocess = TRUE}:
    \itemize{
      \item Reprojects layers to units CRS
      \item Crops layers to units extent
    }
  \item For each indicator:
    \itemize{
      \item Calls corresponding \code{indicator_*()} function
      \item Handles errors gracefully (warning + NA column)
      \item Updates metadata
    }
  \item Returns enriched sf object
}

If an indicator calculation fails, a warning is issued and the indicator column
is filled with NA, but computation continues for other indicators.
}
\examples{
\dontrun{
library(nemeton)

# Create units
units <- nemeton_units(sf::st_read("parcels.gpkg"))

# Create layer catalog
layers <- nemeton_layers(
  rasters = list(
    biomass = "biomass.tif",
    dem = "dem.tif"
  ),
  vectors = list(
    roads = "roads.gpkg"
  )
)

# Calculate all indicators
results <- nemeton_compute(units, layers)

# Calculate specific indicators
results <- nemeton_compute(
  units, layers,
  indicators = c("carbon", "biodiversity")
)
}

}
\seealso{
\code{\link{indicator_carbon}}, \code{\link{indicator_biodiversity}},
\code{\link{indicator_water}}, \code{\link{indicator_fragmentation}},
\code{\link{indicator_accessibility}}
}
