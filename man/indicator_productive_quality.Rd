% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/indicators-productive.R
\name{indicator_productive_quality}
\alias{indicator_productive_quality}
\title{P3: Timber Quality Score Indicator}
\usage{
indicator_productive_quality(
  units,
  dbh_field = "dbh",
  form_score_field = "form_score",
  defects_field = "defects",
  species_field = "species",
  weights = c(form = 0.4, diameter = 0.4, defects = 0.2),
  column_name = "P3",
  lang = "en"
)
}
\arguments{
\item{units}{sf object (POLYGON) of spatial units to assess}

\item{dbh_field}{Character. Column name containing diameter at breast height (cm). Default "dbh".}

\item{form_score_field}{Character. Column name containing form quality score (0-100). Optional.}

\item{defects_field}{Character. Column name containing defect indicator (0=none, 1=present). Optional.}

\item{species_field}{Character. Column name containing species codes (for diameter thresholds). Default "species".}

\item{weights}{Named numeric vector. Component weights: c(form = 0.4, diameter = 0.4, defects = 0.2). Default balanced.}

\item{column_name}{Character. Name for output column. Default "P3".}

\item{lang}{Character. Message language. Default "en".}
}
\value{
sf object with added column: P3 (timber quality score 0-100)
}
\description{
Calculates a timber quality score (0-100) based on tree form (straightness),
commercial diameter thresholds, and defect presence.
}
\details{
**Calculation**:
\itemize{
  \item Form score (0-100): Straightness and branching quality
  \item Diameter score (0-100): Proximity to commercial thresholds
    - Broadleaf: 40cm (sawlog), 20cm (pulpwood)
    - Conifer: 30cm (sawlog), 15cm (pulpwood)
  \item Defect penalty: 100 = no defects, 0 = severe defects
  \item P3 = weighted average of components
}

**Quality Classes**:
\itemize{
  \item 80-100: Premium quality (sawlog, veneer)
  \item 60-80: Good quality (construction timber)
  \item 40-60: Average quality (general use)
  \item 20-40: Low quality (pulpwood, biomass)
  \item 0-20: Very low quality (firewood only)
}
}
\examples{
\dontrun{
units$dbh <- c(45, 28, 35)
units$species <- c("FASY", "PIAB", "QUPE")
units$form_score <- c(85, 70, 60)
units$defects <- c(0, 0, 1)

result <- indicator_productive_quality(
  units = units,
  dbh_field = "dbh",
  form_score_field = "form_score",
  defects_field = "defects"
)
}
}
