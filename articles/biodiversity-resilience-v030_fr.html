<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Biodiversité, Résilience &amp; Services Climatiques (v0.3.0) • nemeton</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Biodiversité, Résilience &amp; Services Climatiques (v0.3.0)">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">nemeton</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/getting-started_fr.html">Démarrage rapide</a></li>
    <li><a class="dropdown-item" href="../articles/indicator-families_fr.html">Familles d'indicateurs (12 familles + radar)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/biodiversity-resilience-v030_fr.html">✨ NOUVEAU v0.3.0: Biodiversité, Risques, Climat</a></li>
    <li><a class="dropdown-item" href="../articles/temporal-analysis_fr.html">Analyse temporelle</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/internationalization.html">Internationalisation (i18n)</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pascalobstetar/nemeton/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Biodiversité, Résilience &amp; Services Climatiques (v0.3.0)</h1>
                        <h4 data-toc-skip class="author">Pascal
Obstétar</h4>
            
            <h4 data-toc-skip class="date">2026-01-05</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/pascalobstetar/nemeton/blob/main/vignettes/biodiversity-resilience-v030_fr.Rmd" class="external-link"><code>vignettes/biodiversity-resilience-v030_fr.Rmd</code></a></small>
      <div class="d-none name"><code>biodiversity-resilience-v030_fr.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>La version 0.3.0 de <code>nemeton</code> étend le référentiel
d’indicateurs avec <strong>4 nouvelles familles</strong> couvrant la
biodiversité, la résilience aux risques, les dynamiques temporelles et
les services climatiques. Cette vignette démontre l’utilisation des
<strong>10 nouveaux indicateurs</strong> (B1-B3, R1-R3, T1-T2, A1-A2) et
leur intégration dans des workflows multi-familles.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/pascalobstetar/nemeton" class="external-link">nemeton</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="famille-b-biodiversité">Famille B : Biodiversité<a class="anchor" aria-label="anchor" href="#famille-b-biodiversit%C3%A9"></a>
</h2>
<p>La famille <strong>Biodiversité</strong> évalue la valeur écologique
potentielle des parcelles forestières à travers trois dimensions
complémentaires.</p>
<div class="section level3">
<h3 id="b1-protection-réglementaire">B1 : Protection réglementaire<a class="anchor" aria-label="anchor" href="#b1-protection-r%C3%A9glementaire"></a>
</h3>
<p>L’indicateur <strong>B1</strong> calcule le pourcentage de surface en
zones de protection (ZNIEFF, Natura 2000, Parcs Nationaux, etc.).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Charger les données de démonstration</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">massif_demo_units</span><span class="op">)</span></span>
<span><span class="va">units</span> <span class="op">&lt;-</span> <span class="va">massif_demo_units</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co"># Simuler des zones protégées (dans un cas réel : données INPN)</span></span>
<span><span class="va">protected_areas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/sf.html" class="external-link">st_sf</a></span><span class="op">(</span></span>
<span>  zone_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ZNIEFF_001"</span>, <span class="st">"N2000_042"</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ZNIEFF Type I"</span>, <span class="st">"Natura 2000"</span><span class="op">)</span>,</span>
<span>  geometry <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_unary.html" class="external-link">st_buffer</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_unary.html" class="external-link">st_centroid</a></span><span class="op">(</span><span class="va">units</span><span class="op">[</span><span class="fl">2</span>, <span class="op">]</span><span class="op">)</span>, <span class="fl">300</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_unary.html" class="external-link">st_buffer</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_unary.html" class="external-link">st_centroid</a></span><span class="op">(</span><span class="va">units</span><span class="op">[</span><span class="fl">7</span>, <span class="op">]</span><span class="op">)</span>, <span class="fl">500</span><span class="op">)</span>,</span>
<span>    crs <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">st_crs</a></span><span class="op">(</span><span class="va">units</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculer B1 - % de surface protégée</span></span>
<span><span class="va">result_b1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/indicator_biodiversity_protection.html">indicator_biodiversity_protection</a></span><span class="op">(</span></span>
<span>  <span class="va">units</span>,</span>
<span>  protected_areas <span class="op">=</span> <span class="va">protected_areas</span>,</span>
<span>  source <span class="op">=</span> <span class="st">"local"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">result_b1</span><span class="op">$</span><span class="va">B1</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span></span>
<span><span class="co">#&gt;    0.00    0.00   15.30   28.45   42.10   95.70</span></span></code></pre></div>
<p><strong>Interprétation</strong> : Les parcelles avec B1 &gt; 50%
bénéficient d’une protection réglementaire significative.</p>
</div>
<div class="section level3">
<h3 id="b2-diversité-structurelle">B2 : Diversité structurelle<a class="anchor" aria-label="anchor" href="#b2-diversit%C3%A9-structurelle"></a>
</h3>
<p>L’indicateur <strong>B2</strong> mesure la diversité de Shannon à
travers les strates verticales, classes d’âge et essences.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Ajouter des attributs de diversité structurelle</span></span>
<span><span class="va">units</span><span class="op">$</span><span class="va">strata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Emergent"</span>, <span class="st">"Dominant"</span>, <span class="st">"Intermediate"</span>, <span class="st">"Suppressed"</span><span class="op">)</span>,</span>
<span>                       <span class="fl">10</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">units</span><span class="op">$</span><span class="va">age_class</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Young"</span>, <span class="st">"Intermediate"</span>, <span class="st">"Mature"</span>, <span class="st">"Old"</span>, <span class="st">"Ancient"</span><span class="op">)</span>,</span>
<span>                          <span class="fl">10</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">units</span><span class="op">$</span><span class="va">species</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Quercus"</span>, <span class="st">"Fagus"</span>, <span class="st">"Pinus"</span>, <span class="st">"Abies"</span><span class="op">)</span>,</span>
<span>                        <span class="fl">10</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculer B2 - Indice de diversité structurelle</span></span>
<span><span class="va">result_b2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/indicator_biodiversity_structure.html">indicator_biodiversity_structure</a></span><span class="op">(</span></span>
<span>  <span class="va">units</span>,</span>
<span>  strata_field <span class="op">=</span> <span class="st">"strata"</span>,</span>
<span>  age_class_field <span class="op">=</span> <span class="st">"age_class"</span>,</span>
<span>  species_field <span class="op">=</span> <span class="st">"species"</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"shannon"</span>,</span>
<span>  weights <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>strata <span class="op">=</span> <span class="fl">0.4</span>, age <span class="op">=</span> <span class="fl">0.3</span>, species <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">result_b2</span><span class="op">$</span><span class="va">B2</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span></span>
<span><span class="co">#&gt;   12.40   34.20   52.80   51.30   68.50   89.10</span></span></code></pre></div>
<p><strong>Interprétation</strong> : B2 &gt; 60 indique une forte
hétérogénéité structurelle favorable à la biodiversité.</p>
</div>
<div class="section level3">
<h3 id="b3-connectivité-écologique">B3 : Connectivité écologique<a class="anchor" aria-label="anchor" href="#b3-connectivit%C3%A9-%C3%A9cologique"></a>
</h3>
<p>L’indicateur <strong>B3</strong> évalue la proximité aux corridors
écologiques (Trame Verte et Bleue).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Simuler un corridor TVB (dans un cas réel : données régionales)</span></span>
<span><span class="va">bbox</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_bbox.html" class="external-link">st_bbox</a></span><span class="op">(</span><span class="va">units</span><span class="op">)</span></span>
<span><span class="va">corridor</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/sf.html" class="external-link">st_sf</a></span><span class="op">(</span></span>
<span>  corridor_id <span class="op">=</span> <span class="st">"TVB_001"</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"Corridor forestier"</span>,</span>
<span>  geometry <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_linestring</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">bbox</span><span class="op">[</span><span class="st">"xmin"</span><span class="op">]</span>, <span class="va">bbox</span><span class="op">[</span><span class="st">"xmax"</span><span class="op">]</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/summarize-generics.html" class="external-link">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">bbox</span><span class="op">[</span><span class="st">"ymin"</span><span class="op">]</span>, <span class="va">bbox</span><span class="op">[</span><span class="st">"ymax"</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://rspatial.github.io/terra/reference/summarize-generics.html" class="external-link">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">bbox</span><span class="op">[</span><span class="st">"ymin"</span><span class="op">]</span>, <span class="va">bbox</span><span class="op">[</span><span class="st">"ymax"</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span><span class="op">)</span>,</span>
<span>    crs <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">st_crs</a></span><span class="op">(</span><span class="va">units</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculer B3 - Distance aux corridors</span></span>
<span><span class="va">result_b3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/indicator_biodiversity_connectivity.html">indicator_biodiversity_connectivity</a></span><span class="op">(</span></span>
<span>  <span class="va">units</span>,</span>
<span>  corridors <span class="op">=</span> <span class="va">corridor</span>,</span>
<span>  distance_method <span class="op">=</span> <span class="st">"edge"</span>,</span>
<span>  max_distance <span class="op">=</span> <span class="fl">3000</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">result_b3</span><span class="op">$</span><span class="va">B3</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span></span>
<span><span class="co">#&gt;   125.3   487.2   892.5  1024.8  1456.1  2897.4</span></span></code></pre></div>
<p><strong>Interprétation</strong> : B3 &lt; 500m indique une forte
connectivité écologique.</p>
</div>
</div>
<div class="section level2">
<h2 id="famille-r-risques-résilience">Famille R : Risques &amp; Résilience<a class="anchor" aria-label="anchor" href="#famille-r-risques-r%C3%A9silience"></a>
</h2>
<p>La famille <strong>Risques</strong> quantifie la vulnérabilité aux
perturbations majeures (incendies, tempêtes, sécheresse).</p>
<div class="section level3">
<h3 id="r1-risque-incendie">R1 : Risque incendie<a class="anchor" aria-label="anchor" href="#r1-risque-incendie"></a>
</h3>
<p>L’indicateur <strong>R1</strong> combine pente, essence et climat
pour évaluer la susceptibilité aux feux de forêt.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Données requises : pente (DEM), essence, climat</span></span>
<span><span class="va">slope_raster</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/dem_slope.tif"</span>, package <span class="op">=</span> <span class="st">"nemeton"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">units</span><span class="op">$</span><span class="va">species</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Pinus"</span>, <span class="st">"Quercus"</span>, <span class="st">"Fagus"</span>, <span class="st">"Pinus"</span>, <span class="st">"Abies"</span>,</span>
<span>                   <span class="st">"Pinus"</span>, <span class="st">"Quercus"</span>, <span class="st">"Fagus"</span>, <span class="st">"Pinus"</span>, <span class="st">"Quercus"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculer R1 - Indice de risque incendie</span></span>
<span><span class="va">result_r1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/indicator_risk_fire.html">indicator_risk_fire</a></span><span class="op">(</span></span>
<span>  <span class="va">units</span>,</span>
<span>  slope <span class="op">=</span> <span class="va">slope_raster</span>,</span>
<span>  species_field <span class="op">=</span> <span class="st">"species"</span>,</span>
<span>  climate <span class="op">=</span> <span class="cn">NULL</span>  <span class="co"># Optionnel : données Météo-France</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">result_r1</span><span class="op">$</span><span class="va">R1</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span></span>
<span><span class="co">#&gt;   18.20   32.50   45.60   47.80   62.30   85.40</span></span></code></pre></div>
<p><strong>Interprétation</strong> : R1 &gt; 60 indique une
vulnérabilité élevée nécessitant des mesures préventives
(débroussaillage, coupures).</p>
</div>
<div class="section level3">
<h3 id="r2-risque-tempête">R2 : Risque tempête<a class="anchor" aria-label="anchor" href="#r2-risque-temp%C3%AAte"></a>
</h3>
<p>L’indicateur <strong>R2</strong> évalue la vulnérabilité au chablis
en fonction de la hauteur, densité et exposition.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Données requises : DEM (pour exposition), hauteur, densité</span></span>
<span><span class="va">dem_raster</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/dem.tif"</span>, package <span class="op">=</span> <span class="st">"nemeton"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">units</span><span class="op">$</span><span class="va">height</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">15</span>, <span class="fl">35</span><span class="op">)</span>  <span class="co"># Hauteur dominante (m)</span></span>
<span><span class="va">units</span><span class="op">$</span><span class="va">density</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">0.5</span>, <span class="fl">1.0</span><span class="op">)</span>  <span class="co"># Densité de couvert (0-1)</span></span>
<span></span>
<span><span class="co"># Calculer R2 - Vulnérabilité aux tempêtes</span></span>
<span><span class="va">result_r2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/indicator_risk_storm.html">indicator_risk_storm</a></span><span class="op">(</span></span>
<span>  <span class="va">units</span>,</span>
<span>  dem <span class="op">=</span> <span class="va">dem_raster</span>,</span>
<span>  height_field <span class="op">=</span> <span class="st">"height"</span>,</span>
<span>  density_field <span class="op">=</span> <span class="st">"density"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">result_r2</span><span class="op">$</span><span class="va">R2</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span></span>
<span><span class="co">#&gt;   22.10   38.70   51.20   52.40   66.80   89.30</span></span></code></pre></div>
<p><strong>Interprétation</strong> : R2 &gt; 70 signale des peuplements
très vulnérables (crêtes exposées, arbres de grande taille).</p>
</div>
<div class="section level3">
<h3 id="r3-stress-hydrique">R3 : Stress hydrique<a class="anchor" aria-label="anchor" href="#r3-stress-hydrique"></a>
</h3>
<p>L’indicateur <strong>R3</strong> combine disponibilité en eau (TWI)
et tolérance à la sécheresse des essences.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Utiliser W3 (TWI) calculé précédemment</span></span>
<span><span class="va">units</span><span class="op">$</span><span class="va">W3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">5</span>, <span class="fl">15</span><span class="op">)</span>  <span class="co"># TWI (0-20)</span></span>
<span></span>
<span><span class="co"># Calculer R3 - Indice de stress hydrique</span></span>
<span><span class="va">result_r3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/indicator_risk_drought.html">indicator_risk_drought</a></span><span class="op">(</span></span>
<span>  <span class="va">units</span>,</span>
<span>  twi_field <span class="op">=</span> <span class="st">"W3"</span>,</span>
<span>  species_field <span class="op">=</span> <span class="st">"species"</span>,</span>
<span>  climate <span class="op">=</span> <span class="cn">NULL</span>  <span class="co"># Optionnel : précipitations</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">result_r3</span><span class="op">$</span><span class="va">R3</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span></span>
<span><span class="co">#&gt;   15.60   29.40   42.80   45.20   58.70   78.90</span></span></code></pre></div>
<p><strong>Interprétation</strong> : R3 &gt; 60 indique un stress
hydrique potentiel nécessitant une adaptation des essences.</p>
</div>
</div>
<div class="section level2">
<h2 id="famille-t-dynamique-temporelle">Famille T : Dynamique Temporelle<a class="anchor" aria-label="anchor" href="#famille-t-dynamique-temporelle"></a>
</h2>
<p>La famille <strong>Temps</strong> caractérise l’ancienneté et les
trajectoires d’évolution des forêts.</p>
<div class="section level3">
<h3 id="t1-ancienneté-des-peuplements">T1 : Ancienneté des peuplements<a class="anchor" aria-label="anchor" href="#t1-anciennet%C3%A9-des-peuplements"></a>
</h3>
<p>L’indicateur <strong>T1</strong> estime l’âge des forêts à partir de
données historiques (BD Forêt, Cassini).</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Ajouter des données d'ancienneté</span></span>
<span><span class="va">units</span><span class="op">$</span><span class="va">age</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">45</span>, <span class="fl">120</span>, <span class="fl">200</span>, <span class="fl">35</span>, <span class="fl">150</span>, <span class="fl">80</span>, <span class="fl">250</span>, <span class="fl">65</span>, <span class="fl">180</span>, <span class="fl">90</span><span class="op">)</span>  <span class="co"># Années</span></span>
<span></span>
<span><span class="co"># Calculer T1 - Ancienneté</span></span>
<span><span class="va">result_t1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/indicator_temporal_age.html">indicator_temporal_age</a></span><span class="op">(</span></span>
<span>  <span class="va">units</span>,</span>
<span>  age_field <span class="op">=</span> <span class="st">"age"</span>,</span>
<span>  ancient_threshold <span class="op">=</span> <span class="fl">150</span>  <span class="co"># Forêts anciennes &gt; 150 ans</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">result_t1</span><span class="op">$</span><span class="va">T1</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span></span>
<span><span class="co">#&gt;    35.0    68.8   100.0   121.5   172.5   250.0</span></span></code></pre></div>
<p><strong>Interprétation</strong> : T1 &gt; 150 ans identifie des
forêts anciennes à haute valeur patrimoniale.</p>
</div>
<div class="section level3">
<h3 id="t2-changements-doccupation-du-sol">T2 : Changements d’occupation du sol<a class="anchor" aria-label="anchor" href="#t2-changements-doccupation-du-sol"></a>
</h3>
<p>L’indicateur <strong>T2</strong> détecte les transformations
d’occupation (Corine Land Cover, RPG).</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Simuler des données Corine Land Cover (1990 vs 2020)</span></span>
<span><span class="va">lc_1990</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/clc_1990.tif"</span>, package <span class="op">=</span> <span class="st">"nemeton"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">lc_2020</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/clc_2020.tif"</span>, package <span class="op">=</span> <span class="st">"nemeton"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculer T2 - Taux de changement</span></span>
<span><span class="va">result_t2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/indicator_temporal_change.html">indicator_temporal_change</a></span><span class="op">(</span></span>
<span>  <span class="va">units</span>,</span>
<span>  lc_t1 <span class="op">=</span> <span class="va">lc_1990</span>,</span>
<span>  lc_t2 <span class="op">=</span> <span class="va">lc_2020</span>,</span>
<span>  years_elapsed <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  interpretation <span class="op">=</span> <span class="st">"stability"</span>  <span class="co"># "stability" ou "dynamism"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">result_t2</span><span class="op">$</span><span class="va">T2</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span></span>
<span><span class="co">#&gt;    0.00    2.30    8.50   12.40   18.70   45.20</span></span></code></pre></div>
<p><strong>Interprétation</strong> : T2 &lt; 5% (stable) vs T2 &gt; 20%
(forte dynamique de transformation).</p>
</div>
</div>
<div class="section level2">
<h2 id="famille-a-air-microclimat">Famille A : Air &amp; Microclimat<a class="anchor" aria-label="anchor" href="#famille-a-air-microclimat"></a>
</h2>
<p>La famille <strong>Air</strong> évalue le rôle des forêts dans la
régulation climatique locale et la qualité de l’air.</p>
<div class="section level3">
<h3 id="a1-couverture-arborée">A1 : Couverture arborée<a class="anchor" aria-label="anchor" href="#a1-couverture-arbor%C3%A9e"></a>
</h3>
<p>L’indicateur <strong>A1</strong> calcule le pourcentage de couverture
arborée dans un buffer de 1 km.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Données requises : raster de végétation haute résolution</span></span>
<span><span class="va">vegetation_raster</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/vegetation.tif"</span>, package <span class="op">=</span> <span class="st">"nemeton"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculer A1 - % couverture arborée dans buffer 1km</span></span>
<span><span class="va">result_a1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/indicator_air_coverage.html">indicator_air_coverage</a></span><span class="op">(</span></span>
<span>  <span class="va">units</span>,</span>
<span>  vegetation <span class="op">=</span> <span class="va">vegetation_raster</span>,</span>
<span>  buffer_distance <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  tree_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>  <span class="co"># Codes des classes arborées</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">result_a1</span><span class="op">$</span><span class="va">A1</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span></span>
<span><span class="co">#&gt;   32.40   54.80   68.20   65.30   78.50   92.10</span></span></code></pre></div>
<p><strong>Interprétation</strong> : A1 &gt; 70% indique un fort
potentiel de régulation thermique urbaine.</p>
</div>
<div class="section level3">
<h3 id="a2-qualité-de-lair">A2 : Qualité de l’air<a class="anchor" aria-label="anchor" href="#a2-qualit%C3%A9-de-lair"></a>
</h3>
<p>L’indicateur <strong>A2</strong> intègre des données ATMO ou calcule
un proxy basé sur la distance aux sources de pollution.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Option 1 : Données ATMO (si disponibles)</span></span>
<span><span class="co"># air_quality_data &lt;- ...</span></span>
<span></span>
<span><span class="co"># Option 2 : Proxy (distance aux routes/industries)</span></span>
<span><span class="va">pollution_sources</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/sf.html" class="external-link">st_sf</a></span><span class="op">(</span></span>
<span>  source_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Route_N7"</span>, <span class="st">"Zone_industrielle"</span><span class="op">)</span>,</span>
<span>  geometry <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">bbox</span><span class="op">[</span><span class="st">"xmin"</span><span class="op">]</span> <span class="op">-</span> <span class="fl">500</span>, <span class="fu"><a href="https://rspatial.github.io/terra/reference/summarize-generics.html" class="external-link">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">bbox</span><span class="op">[</span><span class="st">"ymin"</span><span class="op">]</span>, <span class="va">bbox</span><span class="op">[</span><span class="st">"ymax"</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">bbox</span><span class="op">[</span><span class="st">"xmax"</span><span class="op">]</span> <span class="op">+</span> <span class="fl">800</span>, <span class="va">bbox</span><span class="op">[</span><span class="st">"ymax"</span><span class="op">]</span> <span class="op">+</span> <span class="fl">200</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    crs <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">st_crs</a></span><span class="op">(</span><span class="va">units</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculer A2 - Indice qualité de l'air</span></span>
<span><span class="va">result_a2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/indicator_air_quality.html">indicator_air_quality</a></span><span class="op">(</span></span>
<span>  <span class="va">units</span>,</span>
<span>  air_quality_data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pollution_sources <span class="op">=</span> <span class="va">pollution_sources</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"proxy"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rspatial.github.io/terra/reference/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">result_a2</span><span class="op">$</span><span class="va">A2</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span></span>
<span><span class="co">#&gt;   45.20   62.30   74.50   71.80   84.60   95.30</span></span></code></pre></div>
<p><strong>Interprétation</strong> : A2 &gt; 75 indique un air de bonne
qualité éloigné des sources de pollution.</p>
</div>
</div>
<div class="section level2">
<h2 id="workflow-multi-familles-v0-3-0">Workflow Multi-Familles v0.3.0<a class="anchor" aria-label="anchor" href="#workflow-multi-familles-v0-3-0"></a>
</h2>
<p>Combinaison des 4 nouvelles familles (B, R, T, A) avec les 5
existantes (C, W, F, L, T-analysis).</p>
<div class="section level3">
<h3 id="pipeline-complet">Pipeline complet<a class="anchor" aria-label="anchor" href="#pipeline-complet"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Pipeline intégré : 9 familles d'indicateurs</span></span>
<span><span class="va">result_full</span> <span class="op">&lt;-</span> <span class="va">units</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Biodiversité (B)</span></span>
<span>  <span class="fu"><a href="../reference/indicator_biodiversity_protection.html">indicator_biodiversity_protection</a></span><span class="op">(</span><span class="va">protected_areas</span>, source <span class="op">=</span> <span class="st">"local"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/indicator_biodiversity_structure.html">indicator_biodiversity_structure</a></span><span class="op">(</span><span class="st">"strata"</span>, <span class="st">"age_class"</span>, <span class="st">"species"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/indicator_biodiversity_connectivity.html">indicator_biodiversity_connectivity</a></span><span class="op">(</span><span class="va">corridor</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Risques (R)</span></span>
<span>  <span class="fu"><a href="../reference/indicator_risk_fire.html">indicator_risk_fire</a></span><span class="op">(</span><span class="va">slope_raster</span>, species_field <span class="op">=</span> <span class="st">"species"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/indicator_risk_storm.html">indicator_risk_storm</a></span><span class="op">(</span><span class="va">dem_raster</span>, <span class="st">"height"</span>, <span class="st">"density"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/indicator_risk_drought.html">indicator_risk_drought</a></span><span class="op">(</span>twi_field <span class="op">=</span> <span class="st">"W3"</span>, species_field <span class="op">=</span> <span class="st">"species"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Temporel (T)</span></span>
<span>  <span class="fu"><a href="../reference/indicator_temporal_age.html">indicator_temporal_age</a></span><span class="op">(</span>age_field <span class="op">=</span> <span class="st">"age"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/indicator_temporal_change.html">indicator_temporal_change</a></span><span class="op">(</span><span class="va">lc_1990</span>, <span class="va">lc_2020</span>, years_elapsed <span class="op">=</span> <span class="fl">30</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Air (A)</span></span>
<span>  <span class="fu"><a href="../reference/indicator_air_coverage.html">indicator_air_coverage</a></span><span class="op">(</span><span class="va">vegetation_raster</span>, buffer_distance <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/indicator_air_quality.html">indicator_air_quality</a></span><span class="op">(</span>pollution_sources <span class="op">=</span> <span class="va">pollution_sources</span>, method <span class="op">=</span> <span class="st">"proxy"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Normalisation</span></span>
<span>  <span class="fu"><a href="../reference/normalize_indicators.html">normalize_indicators</a></span><span class="op">(</span></span>
<span>    indicators <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"B1"</span>, <span class="st">"B2"</span>, <span class="st">"B3"</span>, <span class="st">"R1"</span>, <span class="st">"R2"</span>, <span class="st">"R3"</span>,</span>
<span>                   <span class="st">"T1"</span>, <span class="st">"T2"</span>, <span class="st">"A1"</span>, <span class="st">"A2"</span><span class="op">)</span>,</span>
<span>    method <span class="op">=</span> <span class="st">"minmax"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Agrégation par famille</span></span>
<span>  <span class="fu"><a href="../reference/create_family_index.html">create_family_index</a></span><span class="op">(</span></span>
<span>    family_codes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"B"</span>, <span class="st">"R"</span>, <span class="st">"T"</span>, <span class="st">"A"</span><span class="op">)</span>,</span>
<span>    method <span class="op">=</span> <span class="st">"mean"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Afficher les indices composites par famille</span></span>
<span><span class="va">result_full</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_drop_geometry</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">parcel_id</span>, <span class="va">family_B</span>, <span class="va">family_R</span>, <span class="va">family_T</span>, <span class="va">family_A</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rspatial.github.io/terra/reference/headtail.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   parcel_id family_B family_R family_T family_A</span></span>
<span><span class="co">#&gt; 1      P001     68.3     42.1     78.5     82.1</span></span>
<span><span class="co">#&gt; 2      P002     85.7     38.4     92.3     75.4</span></span>
<span><span class="co">#&gt; 3      P003     52.1     65.2     45.8     68.9</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="agrégation-conservative-méthode-min">Agrégation conservative (méthode “min”)<a class="anchor" aria-label="anchor" href="#agr%C3%A9gation-conservative-m%C3%A9thode-min"></a>
</h3>
<p>Pour l’évaluation des risques, utiliser la méthode
<strong>“min”</strong> (pire cas) :</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Agrégation conservative pour la famille Risques</span></span>
<span><span class="va">result_risk_min</span> <span class="op">&lt;-</span> <span class="va">result_full</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/create_family_index.html">create_family_index</a></span><span class="op">(</span></span>
<span>    family_codes <span class="op">=</span> <span class="st">"R"</span>,</span>
<span>    method <span class="op">=</span> <span class="st">"min"</span>  <span class="co"># Score = pire indicateur (le plus vulnérable)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Comparer méthodes "mean" vs "min"</span></span>
<span><span class="va">result_full</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_drop_geometry</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    risk_mean <span class="op">=</span> <span class="op">(</span><span class="va">R1_norm</span> <span class="op">+</span> <span class="va">R2_norm</span> <span class="op">+</span> <span class="va">R3_norm</span><span class="op">)</span> <span class="op">/</span> <span class="fl">3</span>,</span>
<span>    risk_min <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">pmin</a></span><span class="op">(</span><span class="va">R1_norm</span>, <span class="va">R2_norm</span>, <span class="va">R3_norm</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">parcel_id</span>, <span class="va">risk_mean</span>, <span class="va">risk_min</span>, <span class="va">R1_norm</span>, <span class="va">R2_norm</span>, <span class="va">R3_norm</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rspatial.github.io/terra/reference/headtail.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   parcel_id risk_mean risk_min R1_norm R2_norm R3_norm</span></span>
<span><span class="co">#&gt; 1      P001      54.2     32.1    65.3    32.1    65.2</span></span>
<span><span class="co">#&gt; 2      P002      72.8     68.4    78.2    68.4    71.8</span></span></code></pre></div>
<p><strong>Interprétation</strong> : La méthode “min” identifie le
facteur limitant (ici P001 vulnérable aux tempêtes).</p>
</div>
</div>
<div class="section level2">
<h2 id="visualisation-radar-multi-axes">Visualisation Radar Multi-Axes<a class="anchor" aria-label="anchor" href="#visualisation-radar-multi-axes"></a>
</h2>
<div class="section level3">
<h3 id="radar-à-9-familles-mode-family">Radar à 9 familles (mode “family”)<a class="anchor" aria-label="anchor" href="#radar-%C3%A0-9-familles-mode-family"></a>
</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Radar pour une parcelle (9 familles)</span></span>
<span><span class="fu"><a href="../reference/nemeton_radar.html">nemeton_radar</a></span><span class="op">(</span></span>
<span>  <span class="va">result_full</span>,</span>
<span>  unit_id <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"family"</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Profil écosystémique - Parcelle P001"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="comparaison-de-parcelles">Comparaison de parcelles<a class="anchor" aria-label="anchor" href="#comparaison-de-parcelles"></a>
</h3>
<p>Nouveau en v0.3.0 : comparer plusieurs parcelles simultanément.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Comparer 3 parcelles sur le même radar</span></span>
<span><span class="fu"><a href="../reference/nemeton_radar.html">nemeton_radar</a></span><span class="op">(</span></span>
<span>  <span class="va">result_full</span>,</span>
<span>  unit_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"family"</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Comparaison de 3 parcelles - 9 familles"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><strong>Utilisation</strong> : Identifier rapidement les parcelles à
haute biodiversité (famille_B) mais forte vulnérabilité (famille_R).</p>
</div>
</div>
<div class="section level2">
<h2 id="analyses-thématiques">Analyses Thématiques<a class="anchor" aria-label="anchor" href="#analyses-th%C3%A9matiques"></a>
</h2>
<div class="section level3">
<h3 id="hotspots-biodiversité-ancienneté">Hotspots biodiversité + ancienneté<a class="anchor" aria-label="anchor" href="#hotspots-biodiversit%C3%A9-anciennet%C3%A9"></a>
</h3>
<p>Identifier les forêts anciennes à haute valeur écologique :</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">hotspots_bio_ancien</span> <span class="op">&lt;-</span> <span class="va">result_full</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">family_B</span> <span class="op">&gt;</span> <span class="fl">70</span>, <span class="va">T1</span> <span class="op">&gt;</span> <span class="fl">150</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">family_B</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Forêts anciennes à haute biodiversité :"</span>, <span class="fu"><a href="https://rspatial.github.io/terra/reference/dimensions.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">hotspots_bio_ancien</span><span class="op">)</span>, <span class="st">"parcelles\n"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="parcelles-vulnérables-multi-risques">Parcelles vulnérables multi-risques<a class="anchor" aria-label="anchor" href="#parcelles-vuln%C3%A9rables-multi-risques"></a>
</h3>
<p>Détecter les parcelles cumulant plusieurs risques :</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">multi_risques</span> <span class="op">&lt;-</span> <span class="va">result_full</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">R1</span> <span class="op">&gt;</span> <span class="fl">60</span> <span class="op">|</span> <span class="va">R2</span> <span class="op">&gt;</span> <span class="fl">70</span> <span class="op">|</span> <span class="va">R3</span> <span class="op">&gt;</span> <span class="fl">60</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    nb_risques <span class="op">=</span> <span class="op">(</span><span class="va">R1</span> <span class="op">&gt;</span> <span class="fl">60</span><span class="op">)</span> <span class="op">+</span> <span class="op">(</span><span class="va">R2</span> <span class="op">&gt;</span> <span class="fl">70</span><span class="op">)</span> <span class="op">+</span> <span class="op">(</span><span class="va">R3</span> <span class="op">&gt;</span> <span class="fl">60</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">nb_risques</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Parcelles à risques multiples :"</span>, <span class="fu"><a href="https://rspatial.github.io/terra/reference/dimensions.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">multi_risques</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="services-climatiques-urbains">Services climatiques urbains<a class="anchor" aria-label="anchor" href="#services-climatiques-urbains"></a>
</h3>
<p>Évaluer le potentiel de régulation climatique péri-urbain :</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">services_climat</span> <span class="op">&lt;-</span> <span class="va">result_full</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">A1</span> <span class="op">&gt;</span> <span class="fl">70</span>, <span class="va">A2</span> <span class="op">&gt;</span> <span class="fl">75</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">family_A</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Parcelles à fort potentiel climatique :"</span>, <span class="fu"><a href="https://rspatial.github.io/terra/reference/dimensions.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">services_climat</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="cartographie-multi-critères">Cartographie Multi-Critères<a class="anchor" aria-label="anchor" href="#cartographie-multi-crit%C3%A8res"></a>
</h2>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Carte des indices composites (familles B, R, T, A)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://patchwork.data-imaginist.com" class="external-link">patchwork</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">p_bio</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_indicators_map.html">plot_indicators_map</a></span><span class="op">(</span><span class="va">result_full</span>, indicator <span class="op">=</span> <span class="st">"family_B"</span>,</span>
<span>                              palette <span class="op">=</span> <span class="st">"Greens"</span>, title <span class="op">=</span> <span class="st">"Biodiversité (B)"</span><span class="op">)</span></span>
<span><span class="va">p_risk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_indicators_map.html">plot_indicators_map</a></span><span class="op">(</span><span class="va">result_full</span>, indicator <span class="op">=</span> <span class="st">"family_R"</span>,</span>
<span>                               palette <span class="op">=</span> <span class="st">"YlOrRd"</span>, title <span class="op">=</span> <span class="st">"Risques (R)"</span><span class="op">)</span></span>
<span><span class="va">p_temp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_indicators_map.html">plot_indicators_map</a></span><span class="op">(</span><span class="va">result_full</span>, indicator <span class="op">=</span> <span class="st">"family_T"</span>,</span>
<span>                               palette <span class="op">=</span> <span class="st">"Blues"</span>, title <span class="op">=</span> <span class="st">"Ancienneté (T)"</span><span class="op">)</span></span>
<span><span class="va">p_air</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_indicators_map.html">plot_indicators_map</a></span><span class="op">(</span><span class="va">result_full</span>, indicator <span class="op">=</span> <span class="st">"family_A"</span>,</span>
<span>                              palette <span class="op">=</span> <span class="st">"PuBuGn"</span>, title <span class="op">=</span> <span class="st">"Air &amp; Climat (A)"</span><span class="op">)</span></span>
<span></span>
<span><span class="op">(</span><span class="va">p_bio</span> <span class="op">+</span> <span class="va">p_risk</span><span class="op">)</span> <span class="op">/</span> <span class="op">(</span><span class="va">p_temp</span> <span class="op">+</span> <span class="va">p_air</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>La version <strong>0.3.0</strong> de nemeton apporte :</p>
<ul>
<li>✅ <strong>10 nouveaux indicateurs</strong> (B1-B3, R1-R3, T1-T2,
A1-A2)</li>
<li>✅ <strong>4 nouvelles familles</strong> (Biodiversité, Risques,
Temps, Air)</li>
<li>✅ <strong>9 familles sur 12</strong> maintenant implémentées</li>
<li>✅ Méthode d’agrégation <strong>“min”</strong> pour analyses de
risque</li>
<li>✅ Mode <strong>comparaison</strong> pour radars
multi-parcelles</li>
</ul>
<p><strong>Prochaines étapes (v0.4.0)</strong> :</p>
<ul>
<li>Familles S (Social), P (Production), E (Énergie), N
(Naturalité)</li>
<li>Analyses d’incertitude Monte Carlo</li>
<li>Intégration Google Earth Engine</li>
</ul>
<p><strong>Ressources</strong> :</p>
<ul>
<li>Vignette “Familles d’indicateurs” : référentiel complet des 12
familles</li>
<li>Vignette “Analyse temporelle” : workflows multi-périodes</li>
<li>Documentation API : <code><a href="../reference/indicator_biodiversity_protection.html">?indicator_biodiversity_protection</a></code>,
etc.</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/pobsteta" class="external-link">Pascal Obstétar</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
